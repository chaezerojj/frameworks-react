# 📁깃 저장소
## git repository 생성
### *\* 저장소 (repository)* 
- : git으로 버전 관리 위해 폴더 안 버전이 저장되는 공간
<br/><br/>

**1. 새 디렉터리 생성**
```bash
$ mkdir hello-git
$ cd hello-git
```
<br/>

**2. 디렉터리 안 내용 살펴보기**
- `ls -la` : 해당 디렉터리 내용 살펴보기 (-l, -a 함께 붙여서 사용 가능)
  - `./` : 현재 디렉터리 나타냄
  - `../` : 상위 디렉터리 나타냄
<br/><br/>

**3. 디렉터리에 저장소 생성**
```bash
$ git init
```
- 디렉터리 안 `.git`디렉터리 생성됨
  - 해당 폴더는 깃을 사용하면서 버전이 저장될 ***저장소***가 됨

  **3-1. 버전 생성하기**
  - 프로그램 개발에서 수정 내용이 쌓이면 새로 번호를 붙여 이전 상태와 구별함
  - git에서도 문서 수정 시 버전을 생성하여 이전 상태와 구별함

    ***깃 버전이란?***
    - 문서를 수정하고 저장할 때마다 생기는 것
    - **장점**
      - 훨씬 쉬운 버전을 생성하고 버전 생성 시간과 수정내용까지 기록 가능
      - 기존 파일 이름 그대로 유지 가능 + 변경 내용을 변경 시점마다 저장 가능
      - 버전마다 작업한 내용 확인 가능 + 그 버전으로 되돌리기 가능
<br/><br/>
---

### *\* 스테이지와 커밋 이해하기*
#### \* <u>작업 트리</u>
  - : 파일 수정, 저장 등의 작업을 하는 디렉터리
    - *e.g.,* hello-git 디렉터리가 작업 트리가 됨

#### \* <u>스테이지</u>
  - : 버전으로 만들 파일이 대기하는 곳
  - 스테이징 영역이라고도 함

#### \* <u>저장소</u>
  - : 스테이지에서 대개하고 있던 파일들을 버전으로 만들어 저장하는 곳
  - 스테이지와 저장소는 .git디렉터리 안에 숨은 파일 형태로 존재함
    - *e.g.,* hello.txt 파일 문서를 수정하고 저장하면 그 파일은 작업 트리에 존재.<br>
        그리고 수정한 hello.txt 파일을 스테이지에 넣음.<br>
        다른 파일도 수정한 후 스테이지에 넣음.<br>
        파일 수정 후 스테이지에 다 넣으면 버전 생성을 위해 git에서 `commit` 명령.<br> 이후 새 버전 생성되고 스테이지에 대기하던 파일이 모두 저장소에 저장됨.
  - *작업 트리에서 문서 수정* <br>
  => *수정한 파일 가운데 버전으로 생성하고 싶은 것을 스테이징 영역에 저장* <br>
  => *스테이지에 있던 파일을 저장소로 커밋*
<br><br>

#### *\* <u>작업 트리에서 문서 수정하기</u>*
**1. 깃 상태 확인**
```bash
$ git status
```
  + `On branch main(master)` : 현재 main 브랜치에 있음. 저장소에 들어있는 디렉터리와 비슷.

  + `No commits yet` : 아직 커밋한 파일이 없음.

  + `Nothing to commit.` : 현재 커밋할 파일이 없음.

**2. hello-git 디렉터리에 새로운 파일 생성**
```bash
$ vim hello.txt
```

**3. 간단한 내용 입력 후 저장하고 터미널로 방금 생성한 파일 확인하기**
```bash
$ ls -la
```

**4. git 상태 확인하기**
```bash
$ git status
```
  + 아직 한번도 관리하지 않은 파일 = untracked files
<br><br>

#### \* <u>수정한 파일을 스테이지에 올리기 = `git add`</u>
1. `git add` : 스테이징 명령어
    + **윈도우에서 스테이징 시 경고 메시지 나타나는 이유**
      + 텍스트 문서의 CRLF 문자를 LF 문자로 자동 변환하여 커밋할 것이라는 내용임
      + 윈도우에서 문서를 저장하면 줄이 바뀌는 자리에 눈에 보이지 않는 CR 문자와 LF문자 삽입됨. <br> 리눅스와 맥에서는 문서 저장 시 줄 바뀌는 자리에 LF문자 삽입됨.

2. `git commit -m [커밋메시지]`

3. `git status` - 깃 상태 확인 (생략 가능)

4. `git log` - 커밋한 버전 설명 정보 나타남. 
  + 커밋 생성자, 커밋 시간, 커밋 메시지 함께 보임.
  + 수정 파일 커밋 시 수정 관련 여러 정보를 함께 저장과 함께 확인 가능.

#### <u>\* 스테이징과 커밋 한꺼번에 처리하기 = `git commit -am**`</u>
- 이전 커밋한 기록이 있는 파일만 다시 커밋할 때 사용 가능한 옵션
- `-am` : `-a` = all, `-m` = message
<br><br>
---

### *\* 깃 커밋 내용 확인하기*

#### <u>*커밋내용 자세히 살펴보기*</u>
+ `git commit` 뒤 영문+숫자로 된 긴 문자열 = **커밋 해시(commit hash)** or **깃 해시(git hash)**
+ 커밋 해시 옆 (HEAD -> main(master))는 이 버전이 가장 최신이라는 표시.
+ auther 항목에는 버전 생성자, Date 항목에는 생성 날짜 나타남. 그 아래엔 작성자가 기록한 커밋 메시지 나옴.
+ `git log` : 깃 커밋에 대한 정보들 나옴

#### <u>*변경사항 확인하기 = `git diff**`*</u>

+ 작업 트리에 있는 파일과 스테이지에 있는 파일을 비교하거나, 스테이지에 있는 파일과 저장소에 있는 최신 커밋을 비교하여 수정한 파일을 커밋 전 최종 검토 가능
  + *e.g., 커밋 내용이* 
    + `-2` : '2' 삭제됨
    + `+two` : 'two' 추가됨
+ `git restore`: 작업 트리에서 기존 작업물과 비교한 후 취소 가능
